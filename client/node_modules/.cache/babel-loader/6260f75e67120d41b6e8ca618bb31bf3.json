{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mac/Documents/mern stack/photoShare/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/mac/Documents/mern stack/photoShare/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React from'react';import'./style.scss';import ProfileIcon from'../ProfileIcon';import moment from'moment';import*as Icon from'react-feather';import{useSelector,useDispatch}from'react-redux';import{deleteComment}from'../../redux/Actions/postActions';import{useHistory}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";moment.relativeTimeThreshold('d',30*12);moment.updateLocale('en',{relativeTime:{dd:'%dd'}});var CommentList=function CommentList(_ref){var accountName=_ref.accountName,commentuser=_ref.commentuser,commentImage=_ref.commentImage,commentText=_ref.commentText,commentId=_ref.commentId,commentTime=_ref.commentTime,userpost=_ref.userpost;var userData=useSelector(function(_ref2){var user=_ref2.user;return user.currentUser;});var dispatch=useDispatch();var history=useHistory();var handleDelete=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return dispatch(deleteComment(userpost._id,commentId,history));case 3:_context.next=8;break;case 5:_context.prev=5;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 8:case\"end\":return _context.stop();}}},_callee,null,[[0,5]]);}));return function handleDelete(){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"commentContainer\",children:[commentImage&&/*#__PURE__*/_jsx(\"div\",{className:\"profile-icon\",children:/*#__PURE__*/_jsx(\"img\",{src:commentImage?commentImage:require('../../assets/default-avatar.png'),alt:\"image\",\"aria-label\":\"poster-iamge\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"accountName\",children:accountName}),/*#__PURE__*/_jsx(\"div\",{className:\"comment\",children:commentText}),userData&&commentuser==userData._id&&/*#__PURE__*/_jsx(\"span\",{onClick:handleDelete,className:\"deletebtn\",children:/*#__PURE__*/_jsx(Icon.Trash2,{size:13})})]})});};export default CommentList;","map":{"version":3,"sources":["/Users/mac/Documents/mern stack/photoShare/client/src/component/CommentList/index.js"],"names":["React","ProfileIcon","moment","Icon","useSelector","useDispatch","deleteComment","useHistory","relativeTimeThreshold","updateLocale","relativeTime","dd","CommentList","accountName","commentuser","commentImage","commentText","commentId","commentTime","userpost","userData","user","currentUser","dispatch","history","handleDelete","_id","console","log","require"],"mappings":"6UAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,cAAP,CACA,MAAOC,CAAAA,WAAP,KAAwB,gBAAxB,CACA,MAAOC,CAAAA,MAAP,KAAmB,QAAnB,CACA,MAAO,GAAKC,CAAAA,IAAZ,KAAsB,eAAtB,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,aAAT,KAA8B,iCAA9B,CACA,OAASC,UAAT,KAA2B,kBAA3B,C,wFACAL,MAAM,CAACM,qBAAP,CAA6B,GAA7B,CAAkC,GAAK,EAAvC,EACAN,MAAM,CAACO,YAAP,CAAoB,IAApB,CAA0B,CACxBC,YAAY,CAAE,CACZC,EAAE,CAAE,KADQ,CADU,CAA1B,EAMA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,MAQd,IAPJC,CAAAA,WAOI,MAPJA,WAOI,CANJC,WAMI,MANJA,WAMI,CALJC,YAKI,MALJA,YAKI,CAJJC,WAII,MAJJA,WAII,CAHJC,SAGI,MAHJA,SAGI,CAFJC,WAEI,MAFJA,WAEI,CADJC,QACI,MADJA,QACI,CACJ,GAAMC,CAAAA,QAAQ,CAAGhB,WAAW,CAAC,mBAAGiB,CAAAA,IAAH,OAAGA,IAAH,OAAcA,CAAAA,IAAI,CAACC,WAAnB,EAAD,CAA5B,CACA,GAAMC,CAAAA,QAAQ,CAAGlB,WAAW,EAA5B,CACA,GAAMmB,CAAAA,OAAO,CAAGjB,UAAU,EAA1B,CAEA,GAAMkB,CAAAA,YAAY,2FAAG,yKAEXF,CAAAA,QAAQ,CAACjB,aAAa,CAACa,QAAQ,CAACO,GAAV,CAAeT,SAAf,CAA0BO,OAA1B,CAAd,CAFG,sFAIjBG,OAAO,CAACC,GAAR,cAJiB,mEAAH,kBAAZH,CAAAA,YAAY,2CAAlB,CAOA,mBACE,KAAC,KAAD,CAAO,QAAP,wBACE,aAAK,SAAS,CAAC,kBAAf,WACGV,YAAY,eACX,YAAK,SAAS,CAAC,cAAf,uBACE,YACE,GAAG,CAAEA,YAAY,CAAGA,YAAH,CAAkBc,OAAO,CAAC,iCAAD,CAD5C,CAEE,GAAG,CAAC,OAFN,CAGE,aAAW,cAHb,EADF,EAFJ,cAUE,YAAK,SAAS,CAAC,aAAf,UAA8BhB,WAA9B,EAVF,cAWE,YAAK,SAAS,CAAC,SAAf,UAA0BG,WAA1B,EAXF,CAaGI,QAAQ,EAAIN,WAAW,EAAIM,QAAQ,CAACM,GAApC,eACC,aAAM,OAAO,CAAED,YAAf,CAA6B,SAAS,CAAC,WAAvC,uBACE,KAAC,IAAD,CAAM,MAAN,EAAa,IAAI,CAAE,EAAnB,EADF,EAdJ,GADF,EADF,CAyBD,CA7CD,CA+CA,cAAeb,CAAAA,WAAf","sourcesContent":["import React from 'react';\nimport './style.scss';\nimport ProfileIcon from '../ProfileIcon';\nimport moment from 'moment';\nimport * as Icon from 'react-feather';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { deleteComment } from '../../redux/Actions/postActions';\nimport { useHistory } from 'react-router-dom';\nmoment.relativeTimeThreshold('d', 30 * 12);\nmoment.updateLocale('en', {\n  relativeTime: {\n    dd: '%dd',\n  },\n});\n\nconst CommentList = ({\n  accountName,\n  commentuser,\n  commentImage,\n  commentText,\n  commentId,\n  commentTime,\n  userpost,\n}) => {\n  const userData = useSelector(({ user }) => user.currentUser);\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const handleDelete = async () => {\n    try {\n      await dispatch(deleteComment(userpost._id, commentId, history));\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  return (\n    <React.Fragment>\n      <div className=\"commentContainer\">\n        {commentImage && (\n          <div className=\"profile-icon\">\n            <img\n              src={commentImage ? commentImage : require('../../assets/default-avatar.png')}\n              alt=\"image\"\n              aria-label=\"poster-iamge\"\n            />\n          </div>\n        )}\n        <div className=\"accountName\">{accountName}</div>\n        <div className=\"comment\">{commentText}</div>\n\n        {userData && commentuser == userData._id && (\n          <span onClick={handleDelete} className=\"deletebtn\">\n            <Icon.Trash2 size={13} />\n          </span>\n        )}\n      </div>\n\n      {/* <h3 className=\"comment-time\"> {moment(commentTime).fromNow(true)}</h3> */}\n    </React.Fragment>\n  );\n};\n\nexport default CommentList;\n"]},"metadata":{},"sourceType":"module"}