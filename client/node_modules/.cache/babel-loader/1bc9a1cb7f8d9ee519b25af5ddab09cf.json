{"ast":null,"code":"import * as postActionTypes from '../Constants/postConstants';\nimport { setToken } from '../../utils';\nimport axios from 'axios';\nimport cogoToast from 'cogo-toast';\nimport * as Routes from '../../component/routes';\nconst baseUrl = process.env.REACT_APP_BASE_URL || \"http://localhost:9000\"; //  load explore posts \n\nexport const getPosts = () => {\n  return async dispatch => {\n    const token = localStorage.getItem('authToken');\n\n    try {\n      if (token) {\n        setToken(token);\n      }\n\n      ;\n      const response = await axios.get(`${baseUrl}/api/route/post/allPosts`);\n\n      if (response) {\n        dispatch({\n          type: postActionTypes.GET_POSTS_SUCCESS,\n          payload: response.data\n        });\n        console.log(response.data);\n      }\n\n      ;\n    } catch (error) {\n      if (error.response) {\n        console.log(error.message);\n        await dispatch({\n          type: postActionTypes.GET_POSTS_FAIL,\n          payload: error.response.data\n        });\n        cogoToast.error(`${error.response.data.msg}`, {\n          position: \"top-right\"\n        });\n      }\n    }\n  };\n};","map":{"version":3,"sources":["/Users/mac/Documents/mern stack/photoShare/client/src/redux/Actions/postActions.js"],"names":["postActionTypes","setToken","axios","cogoToast","Routes","baseUrl","process","env","REACT_APP_BASE_URL","getPosts","dispatch","token","localStorage","getItem","response","get","type","GET_POSTS_SUCCESS","payload","data","console","log","error","message","GET_POSTS_FAIL","msg","position"],"mappings":"AAAA,OAAO,KAAKA,eAAZ,MAAiC,4BAAjC;AACA,SAASC,QAAT,QAAyB,aAAzB;AAGA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAO,KAAKC,MAAZ,MAAwB,wBAAxB;AAEA,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAR,CAAYC,kBAAZ,IAAkC,uBAAlD,C,CAEA;;AACA,OAAO,MAAMC,QAAQ,GAAG,MAAM;AAC1B,SAAO,MAAOC,QAAP,IAAoB;AACvB,UAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAd;;AAEA,QAAI;AACA,UAAIF,KAAJ,EAAW;AACPV,QAAAA,QAAQ,CAACU,KAAD,CAAR;AACH;;AAAA;AAED,YAAMG,QAAQ,GAAG,MAAMZ,KAAK,CAACa,GAAN,CAAW,GAAEV,OAAQ,0BAArB,CAAvB;;AACA,UAAIS,QAAJ,EAAc;AACVJ,QAAAA,QAAQ,CAAC;AAAEM,UAAAA,IAAI,EAAEhB,eAAe,CAACiB,iBAAxB;AAA2CC,UAAAA,OAAO,EAAEJ,QAAQ,CAACK;AAA7D,SAAD,CAAR;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAYP,QAAQ,CAACK,IAArB;AACH;;AAAA;AAEJ,KAXD,CAWE,OAAOG,KAAP,EAAc;AACZ,UAAIA,KAAK,CAACR,QAAV,EAAoB;AAChBM,QAAAA,OAAO,CAACC,GAAR,CAAYC,KAAK,CAACC,OAAlB;AACA,cAAMb,QAAQ,CAAC;AAAEM,UAAAA,IAAI,EAAEhB,eAAe,CAACwB,cAAxB;AAAwCN,UAAAA,OAAO,EAAEI,KAAK,CAACR,QAAN,CAAeK;AAAhE,SAAD,CAAd;AACAhB,QAAAA,SAAS,CAACmB,KAAV,CAAiB,GAAEA,KAAK,CAACR,QAAN,CAAeK,IAAf,CAAoBM,GAAI,EAA3C,EAA8C;AAAEC,UAAAA,QAAQ,EAAE;AAAZ,SAA9C;AACH;AACJ;AAEJ,GAtBD;AAuBH,CAxBM","sourcesContent":["import * as postActionTypes from '../Constants/postConstants';\nimport { setToken } from '../../utils'\n\n\nimport axios from 'axios';\nimport cogoToast from 'cogo-toast';\nimport * as Routes from '../../component/routes';\n\nconst baseUrl = process.env.REACT_APP_BASE_URL || \"http://localhost:9000\"\n\n//  load explore posts \nexport const getPosts = () => {\n    return async (dispatch) => {\n        const token = localStorage.getItem('authToken');\n\n        try {\n            if (token) {\n                setToken(token)\n            };\n\n            const response = await axios.get(`${baseUrl}/api/route/post/allPosts`);\n            if (response) {\n                dispatch({ type: postActionTypes.GET_POSTS_SUCCESS, payload: response.data })\n                console.log(response.data);\n            };\n\n        } catch (error) {\n            if (error.response) {\n                console.log(error.message)\n                await dispatch({ type: postActionTypes.GET_POSTS_FAIL, payload: error.response.data })\n                cogoToast.error(`${error.response.data.msg}`, { position: \"top-right\" })\n            }\n        }\n\n    }\n}\n"]},"metadata":{},"sourceType":"module"}