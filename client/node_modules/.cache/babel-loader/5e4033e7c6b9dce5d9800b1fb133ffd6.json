{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Documents/mern stack/photoShare/client/src/component/Cards/Card/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useRef } from 'react';\nimport './style.scss';\nimport { ReactComponent as CardButton } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../../assets/cardButton.svg\";\nimport CardMenu from '../CardMenu';\nimport CommentList from '../../CommentList';\nimport Profile from '../../Profile';\nimport moment from 'moment';\nimport dayjs from 'dayjs';\nimport ExploreCardMenu from '../../ExplorePostCardMenu';\nimport { commentPost } from '../../../redux/Actions/postActions';\nimport { useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { likePost } from '../../../redux/Actions/postActions';\nimport Loader from '../../Loader';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Card(props) {\n  _s();\n\n  const [commentText, setCommentText] = useState('');\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const inputRef = useRef();\n  const {\n    storyBorder,\n    feed,\n    image,\n    comments,\n    likedByText,\n    likedByNumber,\n    accountName,\n    avatar,\n    hours\n  } = props;\n  React.useEffect(() => {\n    return () => null;\n  });\n\n  const handlePost = async e => {\n    e.preventDefault();\n\n    try {\n      setIsSubmitting(true);\n      await dispatch(commentPost(feed._id, commentText, history));\n      setCommentText('');\n      setIsSubmitting(false);\n    } catch (error) {\n      console.log(error.message);\n    }\n  };\n\n  const likeFunc = async () => {\n    try {\n      await dispatch(likePost(feed._id, history)); // setIsLikedButtonClicked(true)\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const focus = () => {\n    inputRef.current.focus();\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      children: [/*#__PURE__*/_jsxDEV(Profile, {\n        iconSize: \"medium\",\n        image: avatar,\n        authorUsername: feed.author.username,\n        username: accountName,\n        storyBorder: storyBorder\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CardButton, {\n        className: \"cardButton\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      className: \"cardImage\",\n      src: image,\n      alt: \"card content\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), \" \", /*#__PURE__*/_jsxDEV(ExploreCardMenu, {\n      focus: focus,\n      likeFunc: likeFunc,\n      userpost: feed\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 29\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"likedBy\",\n      children: !feed.likes ? /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"like-title\",\n        children: [' ', \"Be the first to \", /*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"like this\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [feed.likes.length, \" Likes\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"comments\",\n      children: comments && comments.map(comment => {\n        return /*#__PURE__*/_jsxDEV(CommentList, {\n          accountName: comment.user,\n          comment: comment,\n          commentId: comment._id,\n          commentuser: comment._user,\n          commentText: comment.commentText,\n          userpost: feed,\n          accountName: comment.username,\n          comment: comment.commentText,\n          commentImage: comment.avatar,\n          commentTime: comment.commentDate\n        }, comment._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 15\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"timePosted\",\n      children: [moment(feed.date).fromNow(), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handlePost,\n      className: \"addComment\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        ref: inputRef,\n        value: commentText,\n        onChange: e => setCommentText(e.target.value),\n        type: \"text\",\n        placeholder: \"Add a comment...\",\n        className: \"commentText\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this), isSubmitting && /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 26\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: commentText ? false : true,\n        className: \"postText-btn\",\n        onSubmit: handlePost,\n        children: \"Post\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Card, \"WyvwIy+lUecNO5Xrr8Ya1Ad5MM8=\", false, function () {\n  return [useHistory, useDispatch];\n});\n\n_c = Card;\nexport default Card;\n\nvar _c;\n\n$RefreshReg$(_c, \"Card\");","map":{"version":3,"sources":["/Users/mac/Documents/mern stack/photoShare/client/src/component/Cards/Card/index.js"],"names":["React","useState","useRef","CardMenu","CommentList","Profile","moment","dayjs","ExploreCardMenu","commentPost","useDispatch","useHistory","likePost","Loader","Card","props","commentText","setCommentText","isSubmitting","setIsSubmitting","history","dispatch","inputRef","storyBorder","feed","image","comments","likedByText","likedByNumber","accountName","avatar","hours","useEffect","handlePost","e","preventDefault","_id","error","console","log","message","likeFunc","focus","current","author","username","likes","length","map","comment","user","_user","commentDate","date","fromNow","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useRef } from 'react';\nimport './style.scss';\nimport { ReactComponent as CardButton } from '../../../assets/cardButton.svg';\nimport CardMenu from '../CardMenu';\nimport CommentList from '../../CommentList';\nimport Profile from '../../Profile';\nimport moment from 'moment';\nimport dayjs from 'dayjs';\nimport ExploreCardMenu from '../../ExplorePostCardMenu';\nimport { commentPost } from '../../../redux/Actions/postActions';\nimport { useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { likePost } from '../../../redux/Actions/postActions';\nimport Loader from '../../Loader'\nfunction Card(props) {\n  const [commentText, setCommentText] = useState('');\n  const [isSubmitting, setIsSubmitting] = useState(false)\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const inputRef = useRef();\n\n  const {\n    storyBorder,\n    feed,\n    image,\n    comments,\n    likedByText,\n    likedByNumber,\n    accountName,\n    avatar,\n    hours,\n  } = props;\n\n  React.useEffect(() => {\n    return () => null;\n  });\n  const handlePost = async (e) => {\n    e.preventDefault();\n    try {\n      setIsSubmitting(true)\n      await dispatch(commentPost(feed._id, commentText, history));\n      setCommentText('');\n      setIsSubmitting(false)\n    } catch (error) {\n      console.log(error.message);\n    }\n  };\n  const likeFunc = async () => {\n    try {\n      await dispatch(likePost(feed._id, history));\n      // setIsLikedButtonClicked(true)\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const focus = () => {\n    inputRef.current.focus();\n  };\n  return (\n    <div className=\"card\">\n      <header>\n        <Profile\n          iconSize=\"medium\"\n          image={avatar}\n          authorUsername={feed.author.username}\n          username={accountName}\n          storyBorder={storyBorder}\n        />\n        <CardButton className=\"cardButton\" />\n      </header>\n      <img className=\"cardImage\" src={image} alt=\"card content\" />\n      {/*  <CardMenu /> */} <ExploreCardMenu focus={focus} likeFunc={likeFunc} userpost={feed} />\n      <div className=\"likedBy\">\n        {/*  <Profile iconSize=\"small\" hideAccountName={true} /> */}\n        {/*  <span>\n                    Liked by <strong>{likedByText}</strong> and{\" \"}\n                    <strong>{likedByNumber} others</strong>\n                </span> */}\n        {!feed.likes ? (\n          <span className=\"like-title\">\n            {' '}\n            Be the first to <b>like this</b>\n          </span>\n        ) : (\n          <span>{feed.likes.length} Likes</span>\n        )}\n      </div>\n      <div className=\"comments\">\n        {comments &&\n          comments.map((comment) => {\n            return (\n              <CommentList\n                key={comment._id}\n                accountName={comment.user}\n                comment={comment}\n                commentId={comment._id}\n                commentuser={comment._user}\n                commentText={comment.commentText}\n                userpost={feed}\n                accountName={comment.username}\n                comment={comment.commentText}\n                commentImage={comment.avatar}\n                commentTime={comment.commentDate}\n              />\n            );\n          })}\n      </div>\n      <div className=\"timePosted\">{moment(feed.date).fromNow()} </div>\n      <form onSubmit={handlePost} className=\"addComment\">\n        <input\n          ref={inputRef}\n          value={commentText}\n          onChange={(e) => setCommentText(e.target.value)}\n          type=\"text\"\n          placeholder=\"Add a comment...\"\n          className=\"commentText\"\n        />\n        {isSubmitting && <Loader />}\n        <button\n          type=\"submit\"\n          disabled={commentText ? false : true}\n          className=\"postText-btn\"\n          onSubmit={handlePost}\n        >\n          Post\n        </button>\n      </form>\n    </div>\n  );\n}\n\nexport default Card;\n"]},"metadata":{},"sourceType":"module"}