{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mac/Documents/mern stack/photoShare/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/mac/Documents/mern stack/photoShare/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/mac/Documents/mern stack/photoShare/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Fragment,useState}from'react';import{Link}from'react-router-dom';import'./style.scss';import{signup}from'../../../redux/Actions/userActions';import{withRouter}from'react-router-dom';import{connect}from'react-redux';import{useFormik}from'formik';import*as Yup from'yup';import{BiHide,BiShowAlt}from'react-icons/bi';import{IconContext}from'react-icons';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function SignUpForm(_ref){var history=_ref.history,signup=_ref.signup;var validationSchema=Yup.object().shape({name:Yup.string().required('fullname is required'),username:Yup.string().required('username is required'),email:Yup.string().email('please enter a valid email address').required(),password:Yup.string().required('required')});var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showPassword=_useState2[0],setShowPassword=_useState2[1];var handleShowToggle=function handleShowToggle(){setShowPassword(function(prev){return!prev;});};var handleFormSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(values){var data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return new FormData();case 3:data=_context.sent;data.append('name',values.name);data.append('username',values.username);data.append(\"email\",values.email);data.append('password',values.password);data.append('avatar',values.avatar);_context.next=11;return signup(data,history);case 11:_context.next=16;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](0);console.log(_context.t0.message);case 16:case\"end\":return _context.stop();}}},_callee,null,[[0,13]]);}));return function handleFormSubmit(_x){return _ref2.apply(this,arguments);};}();var formik=useFormik({initialValues:{name:'',username:\"\",email:\"\",password:'',avatar:null},validationSchema:validationSchema,onSubmit:handleFormSubmit});var values=formik.values,errors=formik.errors,handleChange=formik.handleChange,handleSubmit=formik.handleSubmit,setFieldValue=formik.setFieldValue;return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsxs(\"form\",{encType:\"multipart/form-data\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Sign up\"}),/*#__PURE__*/_jsx(\"div\",{className:\"name-input\",children:/*#__PURE__*/_jsx(\"input\",{name:\"name\",type:\"text\",placeholder:\"Full Name\",value:values.fullName,onChange:handleChange('name')})}),errors.fullName&&/*#__PURE__*/_jsx(\"small\",{className:\"error\",children:errors.fullName}),/*#__PURE__*/_jsx(\"div\",{className:\"username-input\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"username\",placeholder:\"username\",value:values.username,onChange:handleChange('username')})}),errors.username&&/*#__PURE__*/_jsx(\"small\",{className:\"error\",children:errors.username}),/*#__PURE__*/_jsx(\"div\",{className:\"email-input\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",placeholder:\"email\",value:values.email,onChange:handleChange('email')})}),errors.email&&/*#__PURE__*/_jsx(\"small\",{className:\"error\",children:errors.email}),/*#__PURE__*/_jsxs(\"div\",{className:\"password-input\",children:[/*#__PURE__*/_jsx(\"input\",{type:showPassword?\"text\":\"password\",name:\"password\",placeholder:\"password\",value:values.password,onChange:handleChange('password')}),showPassword?/*#__PURE__*/_jsxs(\"button\",{className:\"btn-icon\",type:\"button\",onClick:handleShowToggle,children:[\" \",/*#__PURE__*/_jsx(BiShowAlt,{})]}):/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-icon\",onClick:handleShowToggle,children:/*#__PURE__*/_jsx(BiHide,{})})]}),errors.password&&/*#__PURE__*/_jsx(\"small\",{className:\"error\",children:errors.password}),/*#__PURE__*/_jsx(\"div\",{className:\"file-input\",children:/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"avatar\",onChange:function onChange(event){return setFieldValue(\"avatar\",event.target.files[0]);}})}),errors.file&&/*#__PURE__*/_jsx(\"small\",{className:\"error\",children:errors.file}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"signup-btn\",children:\" Sign Up\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\" already have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/\",children:\" Log in\"})]})]})});}export default connect(null,{signup:signup})(withRouter(SignUpForm));","map":{"version":3,"sources":["/Users/mac/Documents/mern stack/photoShare/client/src/component/auth/SignUpForm/SignUpForm.js"],"names":["React","Fragment","useState","Link","signup","withRouter","connect","useFormik","Yup","BiHide","BiShowAlt","IconContext","axios","SignUpForm","history","validationSchema","object","shape","name","string","required","username","email","password","showPassword","setShowPassword","handleShowToggle","prev","handleFormSubmit","values","FormData","data","append","avatar","console","log","message","formik","initialValues","onSubmit","errors","handleChange","handleSubmit","setFieldValue","fullName","event","target","files","file"],"mappings":"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","sourcesContent":["\nimport React, { Fragment, useState } from 'react'\nimport { Link } from 'react-router-dom';\nimport './style.scss';\nimport { signup } from '../../../redux/Actions/userActions';\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport { useFormik } from 'formik';\nimport * as Yup from 'yup';\nimport { BiHide, BiShowAlt } from 'react-icons/bi'\nimport { IconContext } from 'react-icons';\nimport axios from 'axios';\n\n\nfunction SignUpForm({ history, signup }) {\n\n    const validationSchema = Yup.object().shape({\n        name: Yup.string().required('fullname is required'),\n        username: Yup.string().required('username is required'),\n        email: Yup.string().email('please enter a valid email address').required(),\n        password: Yup.string().required('required'),\n    });\n\n    const [showPassword, setShowPassword] = useState(false);\n\n    const handleShowToggle = () => {\n\n        setShowPassword(prev => !prev)\n    };\n\n    const handleFormSubmit = async (values) => {\n\n        try {\n            const data = await new FormData();\n            data.append('name', values.name);\n            data.append('username', values.username);\n            data.append(\"email\", values.email);\n            data.append('password', values.password);\n            data.append('avatar', values.avatar);\n\n            await signup(data, history);\n\n        } catch (error) {\n            console.log(error.message)\n        }\n\n\n    };\n    const formik = useFormik({\n        initialValues: {\n            name: '',\n            username: \"\",\n            email: \"\",\n            password: '',\n            avatar: null,\n        },\n        validationSchema,\n\n        onSubmit: handleFormSubmit,\n    });\n\n\n    const { values, errors, handleChange, handleSubmit, setFieldValue } = formik;\n    return (\n        <Fragment>\n\n            <form encType=\"multipart/form-data\" onSubmit={handleSubmit} >\n                <h2>Sign up</h2>\n                <div className=\"name-input\">\n                    <input\n                        name=\"name\"\n                        type=\"text\"\n                        placeholder=\"Full Name\"\n                        value={values.fullName}\n                        onChange={handleChange('name')}\n                    />\n                </div>\n                {errors.fullName && <small className=\"error\" >{errors.fullName}</small>}\n\n                <div className=\"username-input\">\n\n                    <input\n                        type=\"text\"\n                        name=\"username\"\n                        placeholder=\"username\"\n                        value={values.username}\n                        onChange={handleChange('username')}\n                    />\n                </div>\n                {errors.username && <small className=\"error\" >{errors.username}</small>}\n                <div className=\"email-input\">\n\n                    <input\n                        type=\"email\"\n                        name=\"email\"\n                        placeholder=\"email\"\n                        value={values.email}\n                        onChange={handleChange('email')}\n                    />\n                </div>\n                {errors.email && <small className=\"error\">{errors.email}</small>}\n                <div className=\"password-input\">\n                    <input\n                        type={showPassword ? \"text\" : \"password\"}\n                        name=\"password\"\n                        placeholder=\"password\"\n                        value={values.password}\n                        onChange={handleChange('password')}\n                    />\n                    {showPassword ?\n                        <button className=\"btn-icon\" type=\"button\" onClick={handleShowToggle}> <BiShowAlt />\n                        </button> :\n                        <button type=\"button\" className=\"btn-icon\" onClick={handleShowToggle}>\n                            <BiHide />\n                        </button>\n                    }\n\n                </div>\n                {errors.password && <small className=\"error\">{errors.password}</small>}\n                <div className=\"file-input\">\n                    <input\n                        type=\"file\"\n                        name=\"avatar\"\n                        onChange={(event) => setFieldValue(\"avatar\", event.target.files[0])}\n                    />\n\n                </div>\n                {errors.file && <small className=\"error\">{errors.file}</small>}\n                <button type=\"submit\" className=\"signup-btn\"> Sign Up</button>\n                <p> already have an account? <Link to=\"/\"> Log in</Link></p>\n            </form>\n\n\n\n        </Fragment>\n\n    )\n}\n\nexport default connect(null, { signup })(withRouter(SignUpForm))\n\n\n"]},"metadata":{},"sourceType":"module"}