{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mac/Documents/mern stack/photoShare/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/mac/Documents/mern stack/photoShare/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/mac/Documents/mern stack/photoShare/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Fragment,useState}from'react';import{Link}from'react-router-dom';import'./style.scss';import{signup}from'../../../redux/Actions/userActions';import{withRouter}from'react-router-dom';import{connect}from'react-redux';import{useFormik}from'formik';import*as Yup from'yup';import{BiHide,BiShowAlt}from'react-icons/bi';import{IconContext}from'react-icons';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function SignUpForm(_ref){var history=_ref.history,signup=_ref.signup;var validationSchema=Yup.object().shape({name:Yup.string().required('fullname is required'),username:Yup.string().required('username is required'),email:Yup.string().email('please enter a valid email address').required(),password:Yup.string().required('required')});var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showPassword=_useState2[0],setShowPassword=_useState2[1];var handleShowToggle=function handleShowToggle(){setShowPassword(function(prev){return!prev;});};var handleFormSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(values){var data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return new FormData();case 3:data=_context.sent;data.append('name',values.name);data.append('username',values.username);data.append('email',values.email);data.append('password',values.password);data.append('avatar',values.avatar);_context.next=11;return signup(data,history);case 11:_context.next=16;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](0);console.log(_context.t0.message);case 16:case\"end\":return _context.stop();}}},_callee,null,[[0,13]]);}));return function handleFormSubmit(_x){return _ref2.apply(this,arguments);};}();var formik=useFormik({initialValues:{name:'',username:'',email:'',password:'',avatar:null},validationSchema:validationSchema,onSubmit:handleFormSubmit});var values=formik.values,errors=formik.errors,handleChange=formik.handleChange,handleSubmit=formik.handleSubmit,setFieldValue=formik.setFieldValue;return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsxs(\"form\",{className:\"sign__up__form\",encType:\"multipart/form-data\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Sign up\"}),/*#__PURE__*/_jsx(\"div\",{className:\"name-input\",children:/*#__PURE__*/_jsx(\"input\",{name:\"name\",type:\"text\",placeholder:\"Full Name\",value:values.fullName,onChange:handleChange('name')})}),errors.fullName&&/*#__PURE__*/_jsx(\"small\",{className:\"error\",children:errors.fullName}),/*#__PURE__*/_jsx(\"div\",{className:\"username-input\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"username\",placeholder:\"username\",value:values.username,onChange:handleChange('username')})}),errors.username&&/*#__PURE__*/_jsx(\"small\",{className:\"error\",children:errors.username}),/*#__PURE__*/_jsx(\"div\",{className:\"email-input\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",placeholder:\"email\",value:values.email,onChange:handleChange('email')})}),errors.email&&/*#__PURE__*/_jsx(\"small\",{className:\"error\",children:errors.email}),/*#__PURE__*/_jsxs(\"div\",{className:\"password-input\",children:[/*#__PURE__*/_jsx(\"input\",{type:showPassword?'text':'password',name:\"password\",placeholder:\"password\",value:values.password,onChange:handleChange('password')}),showPassword?/*#__PURE__*/_jsxs(\"button\",{className:\"btn-icon\",type:\"button\",onClick:handleShowToggle,children:[' ',/*#__PURE__*/_jsx(BiShowAlt,{})]}):/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-icon\",onClick:handleShowToggle,children:/*#__PURE__*/_jsx(BiHide,{})})]}),errors.password&&/*#__PURE__*/_jsx(\"small\",{className:\"error\",children:errors.password}),/*#__PURE__*/_jsx(\"div\",{className:\"file-input\",children:/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"avatar\",onChange:function onChange(event){return setFieldValue('avatar',event.target.files[0]);}})}),errors.file&&/*#__PURE__*/_jsx(\"small\",{className:\"error\",children:errors.file}),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:\"signup-btn\",children:[' ',\"Sign Up\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[' ',\"already have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/\",children:\" Log in\"})]})]})});}export default connect(null,{signup:signup})(withRouter(SignUpForm));","map":{"version":3,"sources":["/Users/mac/Documents/mern stack/photoShare/client/src/component/auth/SignUpForm/SignUpForm.js"],"names":["React","Fragment","useState","Link","signup","withRouter","connect","useFormik","Yup","BiHide","BiShowAlt","IconContext","axios","SignUpForm","history","validationSchema","object","shape","name","string","required","username","email","password","showPassword","setShowPassword","handleShowToggle","prev","handleFormSubmit","values","FormData","data","append","avatar","console","log","message","formik","initialValues","onSubmit","errors","handleChange","handleSubmit","setFieldValue","fullName","event","target","files","file"],"mappings":"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","sourcesContent":["import React, { Fragment, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport './style.scss';\nimport { signup } from '../../../redux/Actions/userActions';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { useFormik } from 'formik';\nimport * as Yup from 'yup';\nimport { BiHide, BiShowAlt } from 'react-icons/bi';\nimport { IconContext } from 'react-icons';\nimport axios from 'axios';\n\nfunction SignUpForm({ history, signup }) {\n  const validationSchema = Yup.object().shape({\n    name: Yup.string().required('fullname is required'),\n    username: Yup.string().required('username is required'),\n    email: Yup.string().email('please enter a valid email address').required(),\n    password: Yup.string().required('required'),\n  });\n\n  const [showPassword, setShowPassword] = useState(false);\n\n  const handleShowToggle = () => {\n    setShowPassword((prev) => !prev);\n  };\n\n  const handleFormSubmit = async (values) => {\n    try {\n      const data = await new FormData();\n      data.append('name', values.name);\n      data.append('username', values.username);\n      data.append('email', values.email);\n      data.append('password', values.password);\n      data.append('avatar', values.avatar);\n\n      await signup(data, history);\n    } catch (error) {\n      console.log(error.message);\n    }\n  };\n  const formik = useFormik({\n    initialValues: {\n      name: '',\n      username: '',\n      email: '',\n      password: '',\n      avatar: null,\n    },\n    validationSchema,\n\n    onSubmit: handleFormSubmit,\n  });\n\n  const { values, errors, handleChange, handleSubmit, setFieldValue } = formik;\n  return (\n    <Fragment>\n      <form className=\"sign__up__form\" encType=\"multipart/form-data\" onSubmit={handleSubmit}>\n        <h2>Sign up</h2>\n        <div className=\"name-input\">\n          <input\n            name=\"name\"\n            type=\"text\"\n            placeholder=\"Full Name\"\n            value={values.fullName}\n            onChange={handleChange('name')}\n          />\n        </div>\n        {errors.fullName && <small className=\"error\">{errors.fullName}</small>}\n\n        <div className=\"username-input\">\n          <input\n            type=\"text\"\n            name=\"username\"\n            placeholder=\"username\"\n            value={values.username}\n            onChange={handleChange('username')}\n          />\n        </div>\n        {errors.username && <small className=\"error\">{errors.username}</small>}\n        <div className=\"email-input\">\n          <input\n            type=\"email\"\n            name=\"email\"\n            placeholder=\"email\"\n            value={values.email}\n            onChange={handleChange('email')}\n          />\n        </div>\n        {errors.email && <small className=\"error\">{errors.email}</small>}\n        <div className=\"password-input\">\n          <input\n            type={showPassword ? 'text' : 'password'}\n            name=\"password\"\n            placeholder=\"password\"\n            value={values.password}\n            onChange={handleChange('password')}\n          />\n          {showPassword ? (\n            <button className=\"btn-icon\" type=\"button\" onClick={handleShowToggle}>\n              {' '}\n              <BiShowAlt />\n            </button>\n          ) : (\n            <button type=\"button\" className=\"btn-icon\" onClick={handleShowToggle}>\n              <BiHide />\n            </button>\n          )}\n        </div>\n        {errors.password && <small className=\"error\">{errors.password}</small>}\n        <div className=\"file-input\">\n          <input\n            type=\"file\"\n            name=\"avatar\"\n            onChange={(event) => setFieldValue('avatar', event.target.files[0])}\n          />\n        </div>\n        {errors.file && <small className=\"error\">{errors.file}</small>}\n        <button type=\"submit\" className=\"signup-btn\">\n          {' '}\n          Sign Up\n        </button>\n        <p>\n          {' '}\n          already have an account? <Link to=\"/\"> Log in</Link>\n        </p>\n      </form>\n    </Fragment>\n  );\n}\n\nexport default connect(null, { signup })(withRouter(SignUpForm));\n"]},"metadata":{},"sourceType":"module"}