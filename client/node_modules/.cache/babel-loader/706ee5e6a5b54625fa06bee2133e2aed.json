{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mac/Documents/mern stack/photoShare/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/mac/Documents/mern stack/photoShare/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/mac/Documents/mern stack/photoShare/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import'./style.scss';import*as Yup from'yup';import{Link}from'react-router-dom';import{connect}from'react-redux';import{signin,loaduser}from'../../../redux/Actions/userActions';// import { Formik } from 'formik';\nimport{useFormik}from'formik';import{AiOutlineLock,AiOutlineMail}from'react-icons/ai';import{IconContext}from'react-icons';// import cogoToast from 'cogo-toast';\n// Routes\nimport*as Routes from'../../routes';import{useHistory}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var validationSchema=Yup.object().shape({email:Yup.string().email().required('please provide a valid email'),password:Yup.string().required(\"password can't be empty\")});var LogInForm=function LogInForm(_ref){var signin=_ref.signin;var history=useHistory();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isSubmitting=_useState2[0],setIsSubmitting=_useState2[1];var handleFormSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(values){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;setIsSubmitting(true);_context.next=4;return signin(values,history);case 4:setIsSubmitting(false);// history.push(Routes.Dashboard);\n_context.next=12;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0.message);values.email='';values.password='';case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function handleFormSubmit(_x){return _ref2.apply(this,arguments);};}();var formik=useFormik({initialValues:{email:'',password:''},validationSchema:validationSchema,onSubmit:handleFormSubmit});var values=formik.values,errors=formik.errors,handleChange=formik.handleChange,handleSubmit=formik.handleSubmit;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"login-form\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\" Log in\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"email-container\",children:[/*#__PURE__*/_jsx(IconContext.Provider,{value:{className:'react-icons'},children:/*#__PURE__*/_jsx(AiOutlineMail,{})}),/*#__PURE__*/_jsx(\"input\",{className:\"email-input\",type:\"email\",name:\"email\",value:formik.values.email,onChange:handleChange,placeholder:\"email\"})]}),errors.email&&/*#__PURE__*/_jsxs(\"small\",{className:\"error\",style:{color:'red',opacity:0.7},children:[' ',errors.email]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"password-container\",children:[/*#__PURE__*/_jsx(IconContext.Provider,{value:{className:'react-icons'},children:/*#__PURE__*/_jsx(AiOutlineLock,{})}),/*#__PURE__*/_jsx(\"input\",{className:\"password-input\",type:\"password\",name:\"password\",value:values.password,onChange:handleChange,placeholder:\"password\"})]}),errors.password&&/*#__PURE__*/_jsxs(\"small\",{className:\"error\",style:{color:'red',opacity:0.7},children:[' ',errors.password]})]}),/*#__PURE__*/_jsxs(Link,{className:\"password-reset-link reset-password\",to:\"/accounts/password/reset\",children:[\"Forgot your password?\",' ']}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"submit-btn\",disabled:isSubmitting?true:false,children:isSubmitting?'Signing in..':'Log in'})]}),/*#__PURE__*/_jsxs(\"p\",{children:[' ',\"Don't have an account?\",' ',/*#__PURE__*/_jsxs(Link,{className:\"password-reset-link\",to:\"/accounts/signup\",children:[' ',\"Sign up\"]})]})]});};var mapStateToProps=function mapStateToProps(_ref3){var user=_ref3.user;return{loadUserErrorr:user.authError.loadUserError};};export default connect(mapStateToProps,{signin:signin,loaduser:loaduser})(LogInForm);","map":{"version":3,"sources":["/Users/mac/Documents/mern stack/photoShare/client/src/component/auth/LogInForm/LogInForm.js"],"names":["React","useState","Yup","Link","connect","signin","loaduser","useFormik","AiOutlineLock","AiOutlineMail","IconContext","Routes","useHistory","validationSchema","object","shape","email","string","required","password","LogInForm","history","isSubmitting","setIsSubmitting","handleFormSubmit","values","console","log","message","formik","initialValues","onSubmit","errors","handleChange","handleSubmit","className","color","opacity","mapStateToProps","user","loadUserErrorr","authError","loadUserError"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport './style.scss';\nimport * as Yup from 'yup';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { signin, loaduser } from '../../../redux/Actions/userActions';\n// import { Formik } from 'formik';\nimport { useFormik } from 'formik';\nimport { AiOutlineLock, AiOutlineMail } from 'react-icons/ai';\nimport { IconContext } from 'react-icons';\n// import cogoToast from 'cogo-toast';\n\n// Routes\nimport * as Routes from '../../routes';\n\nimport { useHistory } from 'react-router-dom';\n\nconst validationSchema = Yup.object().shape({\n  email: Yup.string().email().required('please provide a valid email'),\n  password: Yup.string().required(`password can't be empty`),\n});\n\nconst LogInForm = ({ signin }) => {\n  const history = useHistory();\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  const handleFormSubmit = async (values) => {\n    try {\n      setIsSubmitting(true);\n      await signin(values, history);\n      setIsSubmitting(false);\n      // history.push(Routes.Dashboard);\n    } catch (error) {\n      console.log(error.message);\n      values.email = '';\n      values.password = '';\n    }\n  };\n  const formik = useFormik({\n    initialValues: {\n      email: '',\n      password: '',\n    },\n    validationSchema,\n    onSubmit: handleFormSubmit,\n  });\n\n  const { values, errors, handleChange, handleSubmit } = formik;\n  return (\n    <div>\n      {/* <h1 className=\"logo\">Photogram</h1> */}\n      <form onSubmit={handleSubmit} className=\"login-form\">\n        <h2> Log in</h2>\n        <div>\n          <div className=\"email-container\">\n            <IconContext.Provider value={{ className: 'react-icons' }}>\n              <AiOutlineMail />\n            </IconContext.Provider>\n            <input\n              className=\"email-input\"\n              type=\"email\"\n              name=\"email\"\n              value={formik.values.email}\n              onChange={handleChange}\n              placeholder=\"email\"\n            />\n          </div>\n          {errors.email && (\n            <small className=\"error\" style={{ color: 'red', opacity: 0.7 }}>\n              {' '}\n              {errors.email}\n            </small>\n          )}\n        </div>\n        <div>\n          <div className=\"password-container\">\n            <IconContext.Provider value={{ className: 'react-icons' }}>\n              <AiOutlineLock />\n            </IconContext.Provider>\n            <input\n              className=\"password-input\"\n              type=\"password\"\n              name=\"password\"\n              value={values.password}\n              onChange={handleChange}\n              placeholder=\"password\"\n            />\n          </div>\n          {errors.password && (\n            <small className=\"error\" style={{ color: 'red', opacity: 0.7 }}>\n              {' '}\n              {errors.password}\n            </small>\n          )}\n        </div>\n        <Link className=\"password-reset-link reset-password\" to=\"/accounts/password/reset\">\n          Forgot your password?{' '}\n        </Link>\n\n        <button type=\"submit\" className=\"submit-btn\" disabled={isSubmitting ? true : false}>\n          {isSubmitting ? 'Signing in..' : 'Log in'}\n        </button>\n      </form>\n      <p>\n        {' '}\n        Don't have an account?{' '}\n        <Link className=\"password-reset-link\" to=\"/accounts/signup\">\n          {' '}\n          Sign up\n        </Link>\n      </p>\n    </div>\n  );\n};\nconst mapStateToProps = ({ user }) => {\n  return {\n    loadUserErrorr: user.authError.loadUserError,\n  };\n};\nexport default connect(mapStateToProps, { signin, loaduser })(LogInForm);\n"]},"metadata":{},"sourceType":"module"}