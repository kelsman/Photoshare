{"ast":null,"code":"import _slicedToArray from\"/Users/mac/Documents/mern stack/photoShare/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,Fragment,useEffect,useRef}from'react';import*as Icon from'react-feather';import{useHistory}from'react-router-dom';import'./style.scss';import*as Routes from'../../routes';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var NewPostButton=function NewPostButton(_ref){var iconName=_ref.iconName,children=_ref.children;var history=useHistory();var _useState=useState(undefined),_useState2=_slicedToArray(_useState,2),fileSelected=_useState2[0],setFileSelected=_useState2[1];var fileinput=useRef();useEffect(function(){if(fileSelected){history.push(Routes.NewPostPage,{fileSelected:fileSelected});fileinput.current.value='';}return function(){return null;};},[fileSelected]);return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsxs(\"form\",{encType:\"multipart/form-data\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"file-upload\",children:!iconName&&/*#__PURE__*/_jsx(Icon.Camera,{className:\"icon\"})}),/*#__PURE__*/_jsx(\"input\",{ref:fileinput,name:\"postfile\",type:\"file\",id:\"file-upload\",accept:\"image/*\",className:\"file__input\",onChange:function onChange(event){return setFileSelected(event.target.files[0]);}})]})});};export default NewPostButton;","map":{"version":3,"sources":["/Users/mac/Documents/mern stack/photoShare/client/src/component/NewPost/NewPostButton/index.js"],"names":["React","useState","Fragment","useEffect","useRef","Icon","useHistory","Routes","NewPostButton","iconName","children","history","undefined","fileSelected","setFileSelected","fileinput","push","NewPostPage","current","value","event","target","files"],"mappings":"wKAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,QAA1B,CAAoCC,SAApC,CAA+CC,MAA/C,KAA6D,OAA7D,CACA,MAAO,GAAKC,CAAAA,IAAZ,KAAsB,eAAtB,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAO,cAAP,CACA,MAAO,GAAKC,CAAAA,MAAZ,KAAwB,cAAxB,C,wFAEA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,MAA4B,IAAzBC,CAAAA,QAAyB,MAAzBA,QAAyB,CAAfC,QAAe,MAAfA,QAAe,CAChD,GAAMC,CAAAA,OAAO,CAAGL,UAAU,EAA1B,CADgD,cAERL,QAAQ,CAACW,SAAD,CAFA,wCAEzCC,YAFyC,eAE3BC,eAF2B,eAGhD,GAAMC,CAAAA,SAAS,CAAGX,MAAM,EAAxB,CAEAD,SAAS,CAAC,UAAM,CACd,GAAIU,YAAJ,CAAkB,CAChBF,OAAO,CAACK,IAAR,CAAaT,MAAM,CAACU,WAApB,CAAiC,CAAEJ,YAAY,CAAZA,YAAF,CAAjC,EACAE,SAAS,CAACG,OAAV,CAAkBC,KAAlB,CAA0B,EAA1B,CACD,CACD,MAAO,kBAAM,KAAN,EAAP,CACD,CANQ,CAMN,CAACN,YAAD,CANM,CAAT,CAQA,mBACE,KAAC,QAAD,wBACE,cAAM,OAAO,CAAC,qBAAd,wBACE,cAAO,OAAO,CAAC,aAAf,UAA8B,CAACJ,QAAD,eAAa,KAAC,IAAD,CAAM,MAAN,EAAa,SAAS,CAAC,MAAvB,EAA3C,EADF,cAEE,cACE,GAAG,CAAEM,SADP,CAEE,IAAI,CAAC,UAFP,CAGE,IAAI,CAAC,MAHP,CAIE,EAAE,CAAC,aAJL,CAKE,MAAM,CAAC,SALT,CAME,SAAS,CAAC,aANZ,CAOE,QAAQ,CAAE,kBAACK,KAAD,QAAWN,CAAAA,eAAe,CAACM,KAAK,CAACC,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAAD,CAA1B,EAPZ,EAFF,GADF,EADF,CAgBD,CA7BD,CA+BA,cAAed,CAAAA,aAAf","sourcesContent":["import React, { useState, Fragment, useEffect, useRef } from 'react';\nimport * as Icon from 'react-feather';\nimport { useHistory } from 'react-router-dom';\nimport './style.scss';\nimport * as Routes from '../../routes';\n\nconst NewPostButton = ({ iconName, children }) => {\n  const history = useHistory();\n  const [fileSelected, setFileSelected] = useState(undefined);\n  const fileinput = useRef();\n\n  useEffect(() => {\n    if (fileSelected) {\n      history.push(Routes.NewPostPage, { fileSelected });\n      fileinput.current.value = '';\n    }\n    return () => null;\n  }, [fileSelected]);\n\n  return (\n    <Fragment>\n      <form encType=\"multipart/form-data\">\n        <label htmlFor=\"file-upload\">{!iconName && <Icon.Camera className=\"icon\" />}</label>\n        <input\n          ref={fileinput}\n          name=\"postfile\"\n          type=\"file\"\n          id=\"file-upload\"\n          accept=\"image/*\"\n          className=\"file__input\"\n          onChange={(event) => setFileSelected(event.target.files[0])}\n        />\n      </form>\n    </Fragment>\n  );\n};\n\nexport default NewPostButton;\n"]},"metadata":{},"sourceType":"module"}