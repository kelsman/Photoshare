{"ast":null,"code":"import * as postActionTypes from '../Constants/postConstants';\nimport { setToken } from '../../utils';\nimport axios from 'axios';\nimport cogoToast from 'cogo-toast';\nimport * as Routes from '../../component/routes';\nconst token = localStorage.getItem('authToken');\nconst baseUrl = process.env.REACT_APP_BASE_URL || \"http://localhost:9000\"; //  load explore posts \n\nexport const getPosts = (postId, history) => {\n  return async dispatch => {\n    const token = localStorage.getItem('authToken');\n\n    try {\n      if (token) {\n        await setToken(token);\n      }\n\n      ;\n      const response = await axios.get(`/api/route/post/retrieveExplorePost/:${postId}`);\n\n      if (response) {\n        dispatch({\n          type: postActionTypes.GET_POSTS_SUCCESS,\n          payload: response.data.post\n        });\n        console.log(response.data.post); // console.log(response.data.msg);\n      }\n\n      ;\n    } catch (error) {\n      if (error.response) {\n        console.log(error.response.data);\n        await dispatch({\n          type: postActionTypes.GET_POSTS_FAIL,\n          payload: error.response.data\n        });\n\n        if (error.response.data.msg === \"jwt expired\" || error.response.data.msg === `you're not authorised`) {\n          localStorage.removeItem('authToken');\n          history.push('/');\n        } // cogoToast.error(`${error.response.data.msg}`, { position: \"top-right\" })\n\n      }\n    }\n  };\n}; //  @comment on a post with a given post id passed as a param to the url\n\nexport const commentPost = (postId, commentText, socket, history) => {\n  return async dispatch => {\n    if (token) {\n      await setToken(token);\n    }\n\n    ;\n\n    try {\n      const config = {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      };\n      const response = await axios.post(`/api/route/post/comment/${postId}`, {\n        commentText\n      });\n\n      if (response) {\n        socket.on('addComment', data => {\n          dispatch({\n            type: postActionTypes.COMMENT_POST_SUCCESS,\n            payload: data\n          });\n        });\n        console.log(response.data);\n      }\n\n      ;\n    } catch (error) {\n      if (error.response) {\n        console.log(error.response.data);\n        await dispatch({\n          type: postActionTypes.COMMENT_POST_FAIL,\n          payload: error.response.data.msg\n        });\n\n        if (error.response.data.msg === \"jwt expired\" || error.response.data.msg === `you're not authorised`) {\n          localStorage.removeItem('authToken');\n          history.push('/');\n        } // cogoToast.error(`${error.response.data.msg}`, { position: \"top-right\" })\n\n      }\n    }\n  };\n};\nexport const getSinglePost = (postId, history) => {\n  return async dispatch => {\n    if (token) {\n      await setToken(token);\n    }\n\n    ;\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n\n    try {\n      const response = await axios.get(`/api/route/post/singlePost/${postId}`, config);\n\n      if (response) {\n        dispatch({\n          type: postActionTypes.GET_SINGLE_POST_SUCCESS,\n          payload: response.data.msg\n        }); // console.log(response.data.msg);\n      }\n\n      ;\n    } catch (error) {\n      if (error.response) {\n        console.log(error.response.data);\n        await dispatch({\n          type: postActionTypes.GET_SINGLE_POST_FAIL,\n          payload: error.response.data.msg\n        });\n\n        if (error.response.data.msg === \"jwt expired\" || error.response.data.msg === `you're not authorised`) {\n          localStorage.removeItem('authToken');\n          history.push('/');\n        }\n      }\n    }\n  };\n}; //  like a post \n\nexport const likePost = (postId, socket, history) => {\n  return async dispatch => {\n    const token = localStorage.getItem('authToken');\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n\n    if (token) {\n      await setToken(token);\n    }\n\n    ;\n\n    try {\n      const response = await axios.put(`/api/route/post/likePost/${postId}`, config);\n\n      if (response) {\n        socket.on('likePost', data => {\n          dispatch({\n            type: postActionTypes.LIKE_POST_SUCCESS,\n            payload: data\n          });\n        });\n        console.log(response.data);\n      }\n    } catch (error) {\n      if (error.response) {\n        console.log(error.response.data);\n        await dispatch({\n          type: postActionTypes.LIKE_POST_FAIL,\n          payload: error.response.data.msg\n        });\n        cogoToast.info(`${error.response.data.msg}`, {\n          position: 'top-center'\n        });\n\n        if (error.response.data.msg === \"jwt expired\" || error.response.data.msg === `you're not authorised`) {\n          localStorage.removeItem('authToken');\n          history.push('/');\n        }\n      }\n    }\n  };\n}; //  unlike a post function\n\nexport const unLikePost = (postId, socket, history) => {\n  return async dispatch => {\n    const token = localStorage.getItem('authToken');\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n\n    if (token) {\n      await setToken(token);\n    }\n\n    ;\n\n    try {\n      const response = await axios.put(`/api/route/post/unlikePost/${postId}`, config);\n\n      if (response) {\n        socket.on('unlikePost', data => {\n          dispatch({\n            type: postActionTypes.UNLIKE_POST_SUCCESS,\n            payload: data\n          });\n        });\n        console.log(response.data);\n      }\n    } catch (error) {\n      if (error.response) {\n        console.log(error.response.data);\n        await dispatch({\n          type: postActionTypes.UNLIKE_POST_FAIL,\n          payload: error.response.data.msg\n        });\n        cogoToast.error(`${error.response.data.msg}`, {\n          position: 'top-right'\n        });\n\n        if (error.response.data.msg === \"jwt expired\" || error.response.data.msg === `you're not authorised`) {\n          localStorage.removeItem('authToken');\n          history.push('/');\n        }\n      }\n    }\n  };\n};","map":{"version":3,"sources":["/Users/mac/Documents/mern stack/photoShare/client/src/redux/Actions/postActions.js"],"names":["postActionTypes","setToken","axios","cogoToast","Routes","token","localStorage","getItem","baseUrl","process","env","REACT_APP_BASE_URL","getPosts","postId","history","dispatch","response","get","type","GET_POSTS_SUCCESS","payload","data","post","console","log","error","GET_POSTS_FAIL","msg","removeItem","push","commentPost","commentText","socket","config","headers","on","COMMENT_POST_SUCCESS","COMMENT_POST_FAIL","getSinglePost","GET_SINGLE_POST_SUCCESS","GET_SINGLE_POST_FAIL","likePost","put","LIKE_POST_SUCCESS","LIKE_POST_FAIL","info","position","unLikePost","UNLIKE_POST_SUCCESS","UNLIKE_POST_FAIL"],"mappings":"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","sourcesContent":["import * as postActionTypes from '../Constants/postConstants';\nimport { setToken } from '../../utils'\n\n\nimport axios from 'axios';\nimport cogoToast from 'cogo-toast';\nimport * as Routes from '../../component/routes';\n\nconst token = localStorage.getItem('authToken');\n\nconst baseUrl = process.env.REACT_APP_BASE_URL || \"http://localhost:9000\"\n\n\n\n//  load explore posts \nexport const getPosts = (postId, history) => {\n    return async (dispatch) => {\n        const token = localStorage.getItem('authToken')\n        try {\n            if (token) {\n                await setToken(token)\n            };\n            const response = await axios.get(`/api/route/post/retrieveExplorePost/:${postId}`);\n            if (response) {\n                dispatch({ type: postActionTypes.GET_POSTS_SUCCESS, payload: response.data.post })\n                console.log(response.data.post)\n                // console.log(response.data.msg);\n            };\n\n        } catch (error) {\n            if (error.response) {\n                console.log(error.response.data)\n                await dispatch({ type: postActionTypes.GET_POSTS_FAIL, payload: error.response.data })\n                if (error.response.data.msg === \"jwt expired\" || error.response.data.msg === `you're not authorised`) {\n                    localStorage.removeItem('authToken');\n                    history.push('/')\n                }\n                // cogoToast.error(`${error.response.data.msg}`, { position: \"top-right\" })\n            }\n        }\n\n    }\n}\n\n\n\n//  @comment on a post with a given post id passed as a param to the url\nexport const commentPost = (postId, commentText, socket, history) => {\n    return async (dispatch) => {\n        if (token) {\n            await setToken(token)\n        };\n\n        try {\n            const config = {\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                }\n            }\n            const response = await axios.post(`/api/route/post/comment/${postId}`, { commentText });\n            if (response) {\n                socket.on('addComment', (data) => {\n                    dispatch({ type: postActionTypes.COMMENT_POST_SUCCESS, payload: data })\n\n                })\n                console.log(response.data);\n            };\n\n        } catch (error) {\n            if (error.response) {\n                console.log(error.response.data)\n                await dispatch({ type: postActionTypes.COMMENT_POST_FAIL, payload: error.response.data.msg })\n                if (error.response.data.msg === \"jwt expired\" || error.response.data.msg === `you're not authorised`) {\n                    localStorage.removeItem('authToken');\n                    history.push('/')\n                }\n                // cogoToast.error(`${error.response.data.msg}`, { position: \"top-right\" })\n            }\n        }\n    }\n}\n\nexport const getSinglePost = (postId, history) => {\n\n    return async (dispatch) => {\n\n        if (token) {\n            await setToken(token)\n        };\n        const config = {\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        }\n        try {\n            const response = await axios.get(`/api/route/post/singlePost/${postId}`, config)\n            if (response) {\n                dispatch({ type: postActionTypes.GET_SINGLE_POST_SUCCESS, payload: response.data.msg })\n                // console.log(response.data.msg);\n            };\n\n        } catch (error) {\n            if (error.response) {\n                console.log(error.response.data)\n                await dispatch({ type: postActionTypes.GET_SINGLE_POST_FAIL, payload: error.response.data.msg })\n                if (error.response.data.msg === \"jwt expired\" || error.response.data.msg === `you're not authorised`) {\n                    localStorage.removeItem('authToken');\n                    history.push('/');\n\n                }\n            }\n        }\n    }\n}\n\n//  like a post \n\nexport const likePost = (postId, socket, history) => {\n\n    return async (dispatch) => {\n\n        const token = localStorage.getItem('authToken');\n\n        const config = {\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        }\n        if (token) {\n            await setToken(token)\n        };\n        try {\n            const response = await axios.put(`/api/route/post/likePost/${postId}`, config);\n            if (response) {\n                socket.on('likePost', (data) => {\n                    dispatch({ type: postActionTypes.LIKE_POST_SUCCESS, payload: data })\n                });\n                console.log(response.data);\n            }\n        } catch (error) {\n            if (error.response) {\n                console.log(error.response.data)\n                await dispatch({ type: postActionTypes.LIKE_POST_FAIL, payload: error.response.data.msg })\n                cogoToast.info(`${error.response.data.msg}`, { position: 'top-center' })\n                if (error.response.data.msg === \"jwt expired\" || error.response.data.msg === `you're not authorised`) {\n                    localStorage.removeItem('authToken');\n                    history.push('/');\n                }\n\n            }\n\n        }\n\n    }\n\n}\n//  unlike a post function\n\nexport const unLikePost = (postId, socket, history) => {\n    return async (dispatch) => {\n\n        const token = localStorage.getItem('authToken');\n\n        const config = {\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        }\n        if (token) {\n            await setToken(token)\n        };\n        try {\n            const response = await axios.put(`/api/route/post/unlikePost/${postId}`, config);\n            if (response) {\n                socket.on('unlikePost', (data) => {\n                    dispatch({ type: postActionTypes.UNLIKE_POST_SUCCESS, payload: data })\n                });\n                console.log(response.data);\n            }\n        } catch (error) {\n            if (error.response) {\n                console.log(error.response.data)\n\n                await dispatch({ type: postActionTypes.UNLIKE_POST_FAIL, payload: error.response.data.msg })\n                cogoToast.error(`${error.response.data.msg}`, { position: 'top-right' })\n                if (error.response.data.msg === \"jwt expired\" || error.response.data.msg === `you're not authorised`) {\n                    localStorage.removeItem('authToken');\n                    history.push('/');\n                }\n            }\n\n        }\n\n    }\n}"]},"metadata":{},"sourceType":"module"}