{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mac/Documents/mern stack/photoShare/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/mac/Documents/mern stack/photoShare/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/mac/Documents/mern stack/photoShare/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect}from'react';import'./style.scss';import{connect}from'react-redux';import{useHistory}from'react-router-dom';import{loaduser}from'../../redux/Actions/userActions';import{retrieveFeedPosts}from'../../redux/Actions/postActions';import{retrieveFeedPostsStart}from'../../redux/feed/feedAction';// import Header from '../../component/Header';\nimport Menu from'../../component/MenuButtons';import NavigationHeader from'../../component/NavigationHeader';import SideBar from'../../component/SideBar';import Cards from'../../component/Cards';import Loader from'../../component/Loader';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var token=localStorage.getItem('authToken');var HomeScreen=function HomeScreen(_ref){var loaduser=_ref.loaduser,currentUser=_ref.currentUser,retrieveFeedPosts=_ref.retrieveFeedPosts,retrieveFeedPostsStart=_ref.retrieveFeedPostsStart,posts=_ref.posts;var _React$useState=React.useState(true),_React$useState2=_slicedToArray(_React$useState,2),isFetching=_React$useState2[0],setIsFetching=_React$useState2[1];var history=useHistory();useEffect(function(){var subscribe=true;var retrivefeed=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return retrieveFeedPostsStart(history);case 2:setIsFetching(false);case 3:case\"end\":return _context.stop();}}},_callee);}));return function retrivefeed(){return _ref2.apply(this,arguments);};}();if(subscribe){retrivefeed();}return function(){return subscribe=null;};},[retrieveFeedPostsStart]);if(!posts&&isFetching===true){return/*#__PURE__*/_jsx(Loader,{});}return/*#__PURE__*/_jsxs(\"div\",{className:\"homeScreen\",children:[/*#__PURE__*/_jsx(NavigationHeader,{}),/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(Cards,{isFetching:isFetching}),/*#__PURE__*/_jsx(SideBar,{})]})})]});};var mapStateToProps=function mapStateToProps(_ref3){var user=_ref3.user,post=_ref3.post,feed=_ref3.feed;return{currentUser:user.currentUser,posts:feed.posts};};export default connect(mapStateToProps,{loaduser:loaduser,retrieveFeedPosts:retrieveFeedPosts,retrieveFeedPostsStart:retrieveFeedPostsStart})(HomeScreen);","map":{"version":3,"sources":["/Users/mac/Documents/mern stack/photoShare/client/src/screens/Home/HomeScreen.js"],"names":["React","useEffect","connect","useHistory","loaduser","retrieveFeedPosts","retrieveFeedPostsStart","Menu","NavigationHeader","SideBar","Cards","Loader","token","localStorage","getItem","HomeScreen","currentUser","posts","useState","isFetching","setIsFetching","history","subscribe","retrivefeed","mapStateToProps","user","post","feed"],"mappings":"qfAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAO,cAAP,CAEA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,OAASC,QAAT,KAAyB,iCAAzB,CACA,OAASC,iBAAT,KAAkC,iCAAlC,CACA,OAASC,sBAAT,KAAuC,6BAAvC,CAEA;AAEA,MAAOC,CAAAA,IAAP,KAAiB,6BAAjB,CACA,MAAOC,CAAAA,gBAAP,KAA6B,kCAA7B,CACA,MAAOC,CAAAA,OAAP,KAAoB,yBAApB,CACA,MAAOC,CAAAA,KAAP,KAAkB,uBAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,wBAAnB,C,wFAEA,GAAMC,CAAAA,KAAK,CAAGC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAd,CAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,MAMb,IALJX,CAAAA,QAKI,MALJA,QAKI,CAJJY,WAII,MAJJA,WAII,CAHJX,iBAGI,MAHJA,iBAGI,CAFJC,sBAEI,MAFJA,sBAEI,CADJW,KACI,MADJA,KACI,qBACgCjB,KAAK,CAACkB,QAAN,CAAe,IAAf,CADhC,oDACGC,UADH,qBACeC,aADf,qBAGJ,GAAMC,CAAAA,OAAO,CAAGlB,UAAU,EAA1B,CAEAF,SAAS,CAAC,UAAM,CACd,GAAIqB,CAAAA,SAAS,CAAG,IAAhB,CACA,GAAMC,CAAAA,WAAW,2FAAG,yJACZjB,CAAAA,sBAAsB,CAACe,OAAD,CADV,QAElBD,aAAa,CAAC,KAAD,CAAb,CAFkB,sDAAH,kBAAXG,CAAAA,WAAW,2CAAjB,CAIA,GAAID,SAAJ,CAAe,CACbC,WAAW,GACZ,CACD,MAAO,kBAAOD,CAAAA,SAAS,CAAG,IAAnB,EAAP,CACD,CAVQ,CAUN,CAAChB,sBAAD,CAVM,CAAT,CAYA,GAAI,CAACW,KAAD,EAAUE,UAAU,GAAK,IAA7B,CAAmC,CACjC,mBAAO,KAAC,MAAD,IAAP,CACD,CAED,mBACE,aAAK,SAAS,CAAC,YAAf,wBAEE,KAAC,gBAAD,IAFF,cAKE,mCACE,aAAK,SAAS,CAAC,WAAf,wBACE,KAAC,KAAD,EAAO,UAAU,CAAEA,UAAnB,EADF,cAEE,KAAC,OAAD,IAFF,GADF,EALF,GADF,CAcD,CAzCD,CA2CA,GAAMK,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,OAA0B,IAAvBC,CAAAA,IAAuB,OAAvBA,IAAuB,CAAjBC,IAAiB,OAAjBA,IAAiB,CAAXC,IAAW,OAAXA,IAAW,CAChD,MAAO,CACLX,WAAW,CAAES,IAAI,CAACT,WADb,CAELC,KAAK,CAAEU,IAAI,CAACV,KAFP,CAAP,CAID,CALD,CAOA,cAAef,CAAAA,OAAO,CAACsB,eAAD,CAAkB,CAAEpB,QAAQ,CAARA,QAAF,CAAYC,iBAAiB,CAAjBA,iBAAZ,CAA+BC,sBAAsB,CAAtBA,sBAA/B,CAAlB,CAAP,CACbS,UADa,CAAf","sourcesContent":["import React, { useEffect } from 'react';\nimport './style.scss';\n\nimport { connect } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { loaduser } from '../../redux/Actions/userActions';\nimport { retrieveFeedPosts } from '../../redux/Actions/postActions';\nimport { retrieveFeedPostsStart } from '../../redux/feed/feedAction';\n\n// import Header from '../../component/Header';\n\nimport Menu from '../../component/MenuButtons';\nimport NavigationHeader from '../../component/NavigationHeader';\nimport SideBar from '../../component/SideBar';\nimport Cards from '../../component/Cards';\nimport Loader from '../../component/Loader';\n\nconst token = localStorage.getItem('authToken');\n\nconst HomeScreen = ({\n  loaduser,\n  currentUser,\n  retrieveFeedPosts,\n  retrieveFeedPostsStart,\n  posts,\n}) => {\n  const [isFetching, setIsFetching] = React.useState(true);\n\n  const history = useHistory();\n\n  useEffect(() => {\n    let subscribe = true;\n    const retrivefeed = async () => {\n      await retrieveFeedPostsStart(history);\n      setIsFetching(false);\n    };\n    if (subscribe) {\n      retrivefeed();\n    }\n    return () => (subscribe = null);\n  }, [retrieveFeedPostsStart]);\n\n  if (!posts && isFetching === true) {\n    return <Loader />;\n  }\n\n  return (\n    <div className=\"homeScreen\">\n      {/*  the navigation Header */}\n      <NavigationHeader />\n\n      {/* main */}\n      <main>\n        <div className=\"container\">\n          <Cards isFetching={isFetching} />\n          <SideBar />\n        </div>\n      </main>\n    </div>\n  );\n};\n\nconst mapStateToProps = ({ user, post, feed }) => {\n  return {\n    currentUser: user.currentUser,\n    posts: feed.posts,\n  };\n};\n\nexport default connect(mapStateToProps, { loaduser, retrieveFeedPosts, retrieveFeedPostsStart })(\n  HomeScreen,\n);\n"]},"metadata":{},"sourceType":"module"}